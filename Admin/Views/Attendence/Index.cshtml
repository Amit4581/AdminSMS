
<link id="style" href="../../assets/libs/fullcalendar/main.min.css" rel="stylesheet">
<link href="../../assets/libs/simonwep/pickr/themes/nano.min.css" rel="stylesheet" />
@* <script src="../../assets/libs/simonwep/pickr/pickr.min.js"></script> *@

<div class="d-md-flex d-block align-items-center justify-content-between my-4 page-header-breadcrumb">
    <h1 class="page-title fw-semibold fs-18 mb-0">Attendence</h1>
    <div class="ms-md-1 ms-0">
        <nav>
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="javascript:void(0);">Attendence</a></li>
                <li class="breadcrumb-item active" aria-current="page">Attendence List</li>
            </ol>
        </nav>
    </div>
</div>
<!-- Start::row-1 -->
<div class="row">
    <div class="col-xl-3">
        <div class="card custom-card">
            <div class="card-header d-grid">
                <button class="btn btn-primary-light btn-wave"><i class="ri-add-line align-middle me-1 fw-semibold d-inline-block"></i>Create New Event</button>
            </div>
            <div class="card-body p-0">
                <div id="external-events" class="border-bottom p-3">
                    <div class="fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event bg-primary border border-primary">
                        <div class="fc-event-main">Calendar Events</div>
                    </div>
                    <div class="fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event bg-secondary border border-secondary"
                         data-class="bg-secondary">
                        <div class="fc-event-main">Birthday EVents</div>
                    </div>
                    <div class="fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event bg-success border border-success"
                         data-class="bg-success">
                        <div class="fc-event-main">Holiday Calendar</div>
                    </div>
                    <div class="fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event bg-info border border-info"
                         data-class="bg-info">
                        <div class="fc-event-main">Office Events</div>
                    </div>
                    <div class="fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event bg-warning border border-warning"
                         data-class="bg-warning">
                        <div class="fc-event-main">Other Events</div>
                    </div>
                    <div class="fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event bg-danger border border-danger"
                         data-class="bg-danger">
                        <div class="fc-event-main">Festival Events</div>
                    </div>
                    <div class="fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event bg-teal border border-teal"
                         data-class="bg-danger">
                        <div class="fc-event-main">Timeline Events</div>
                    </div>
                </div>
                <div class="p-3">
                    <div class="d-flex align-items-center justify-content-between">
                        <h6 class="fw-semibold">
                            Activity :
                        </h6>
                        <button class="btn btn-primary-light btn-sm btn-wave">View All</button>
                    </div>
                </div>
                <div class="p-3 border-bottom" id="full-calendar-activity">
                    <ul class="list-unstyled mb-0 fullcalendar-events-activity">
                        <li>
                            <div class="d-flex align-items-center justify-content-between flex-wrap">
                                <p class="mb-1 fw-semibold">
                                    Monday, Jan 1,2023
                                </p>
                                <span class="badge bg-light text-default mb-1">12:00PM - 1:00PM</span>
                            </div>
                            <p class="mb-0 text-muted fs-12">
                                Meeting with a client about new project requirement.
                            </p>
                        </li>
                        <li>
                            <div class="d-flex align-items-center justify-content-between flex-wrap">
                                <p class="mb-1 fw-semibold">
                                    Thursday, Dec 29,2022
                                </p>
                                <span class="badge bg-success mb-1">Completed</span>
                            </div>
                            <p class="mb-0 text-muted fs-12">
                                Birthday party of niha suka
                            </p>
                        </li>
                        <li>
                            <div class="d-flex align-items-center justify-content-between flex-wrap">
                                <p class="mb-1 fw-semibold">
                                    Wednesday, Jan 3,2023
                                </p>
                                <span class="badge bg-warning-transparent mb-1">Reminder</span>
                            </div>
                            <p class="mb-0 text-muted fs-12">
                                WOrk taget for new project is completing
                            </p>
                        </li>
                        <li>
                            <div class="d-flex align-items-center justify-content-between flex-wrap">
                                <p class="mb-1 fw-semibold">
                                    Friday, Jan 20,2023
                                </p>
                                <span class="badge bg-light text-default mb-1">06:00PM - 09:00PM</span>
                            </div>
                            <p class="mb-0 text-muted fs-12">
                                Watch new movie with family
                            </p>
                        </li>
                        <li>
                            <div class="d-flex align-items-center justify-content-between flex-wrap">
                                <p class="mb-1 fw-semibold">
                                    Saturday, Jan 07,2023
                                </p>
                                <span class="badge bg-danger-transparent mb-1">Due Date</span>
                            </div>
                            <p class="mb-0 text-muted fs-12">
                                Last day to pay the electricity bill and water bill.need to check the bank details.
                            </p>
                        </li>
                    </ul>
                </div>
                @* <div class="p-3">
                    <img src="https://spruko.com/demo/aspnet/ynex/dist/assets/images/media/media-83.svg" alt="">
                </div> *@
            </div>
        </div>
    </div>
    <div class="col-xl-9">
        <div class="card custom-card">
            <div class="card-header">
                <div class="card-title">My Attendence</div>
            </div>
            <div class="card-body">
                <div id='calendar2'></div>
            </div>
        </div>
    </div>
</div>

<!-- Fullcalendar JS -->
<script src="~/assets/libs/fullcalendar/main.min.js"></script>

<!--End::row-1 -->

@* 
<script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@5.10.2/main.min.js" integrity="sha256-X8h0iC5N5InCxmgTfxEX7swn7QvtZLW1qehl3sPpEs4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@5.10.2/main.min.js" integrity="sha256-wLiK3f5LCMZZBMTlqaa/4EEFovdX6sU6LmNL8v+tzPE=" crossorigin="anonymous"></script>
<script src="https://unpkg.com/simplebar@5.3.6/dist/simplebar.min.js"></script> *@


<script>
    (function () {
        "use strict";

        var calendarEl = document.getElementById('calendar2');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
            },
            defaultView: 'month',
            navLinks: true,
            businessHours: true,
            editable: true,
            selectable: true,
            selectMirror: true,
            droppable: true,
            select: function (arg) {
                var title = prompt('Event Title:');
                if (title) {
                    calendar.addEvent({
                        title: title,
                        start: arg.start,
                        end: arg.end,
                        allDay: arg.allDay
                    });
                }
                calendar.unselect();
            },
            eventClick: function (arg) {
                if (confirm('Are you sure you want to delete this event?')) {
                    arg.event.remove();
                }
            },
            editable: true,
            dayMaxEvents: true,
            eventSources: [
                {
                    url: '/Attendence/GetAllAttendence', // replace with your ASP.NET Core controller endpoint
                    method: 'GET',
                    extraParams: {
                        // you can add extra parameters if needed
                    },
                    failure: function () {
                        alert('There was an error while fetching events!');
                    },
                }
            ],
        });

        calendar.render();

    })();
</script>

@*  <script>
    (function () {



        "use strict";
        //_____Calendar Events Intialization

        // sample calendar events data
        var curYear ='2023';
        var curMonth = '11';

        // var curYear = moment().format('YYYY');
        // var curMonth = moment().format('MM');
        // Calendar Event Source
        var sptCalendarEvents = {
            id: 1,
            events: [{
                id: '1',
                start: curYear + '-' + curMonth + '-02',
                end: curYear + '-' + curMonth + '-03',
                title: 'Spruko Meetup',
                backgroundColor: '#845adf',
                borderColor: '#845adf',
                description: 'All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary'
            }, {
                id: '2',
                start: curYear + '-' + curMonth + '-17',
                end: curYear + '-' + curMonth + '-17',
                title: 'Design Review',
                backgroundColor: '#23b7e5',
                borderColor: '#23b7e5',
                description: 'All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary'
            }, {
                id: '3',
                start: curYear + '-' + curMonth + '-13',
                end: curYear + '-' + curMonth + '-13',
                title: 'Lifestyle Conference',
                backgroundColor: '#845adf',
                borderColor: '#845adf',
                description: 'All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary'
            }, {
                id: '4',
                start: curYear + '-' + curMonth + '-21',
                end: curYear + '-' + curMonth + '-21',
                title: 'Team Weekly Brownbag',
                backgroundColor: '#f5b849',
                borderColor: '#f5b849',
                description: 'All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary'
            }, {
                id: '5',
                start: curYear + '-' + curMonth + '-04T10:00:00',
                end: curYear + '-' + curMonth + '-06T15:00:00',
                title: 'Music Festival',
                backgroundColor: '#26bf94',
                borderColor: '#26bf94',
                description: 'All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary'
            }, {
                id: '6',
                start: curYear + '-' + curMonth + '-23T13:00:00',
                end: curYear + '-' + curMonth + '-25T18:30:00',
                title: 'Attend Lea\'s Wedding',
                backgroundColor: '#26bf94',
                borderColor: '#26bf94',
                description: 'All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary'
            }]
        };
        // Birthday Events Source
        var sptBirthdayEvents = {
            id: 2,
            backgroundColor: '#49b6f5',
            borderColor: '#49b6f5',
            textColor: '#fff',
            events: [{
                id: '7',
                start: curYear + '-' + curMonth + '-04',
                end: curYear + '-' + curMonth + '-04',
                title: 'Harcates Birthday',
                description: 'All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary'
            }, {
                id: '8',
                start: curYear + '-' + curMonth + '-28',
                end: curYear + '-' + curMonth + '-28',
                title: 'Bunnysin\'s Birthday',
                description: 'All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary'
            }, {
                id: '9',
                start: curYear + '-' + curMonth + '-31',
                end: curYear + '-' + curMonth + '-31',
                title: 'Lee shin\'s Birthday',
                description: 'All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary'
            }, {
                id: '10',
                start: curYear + '-' + 11 + '-11',
                end: curYear + '-' + 11 + '-11',
                title: 'Shinchan\'s Birthday',
                description: 'All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary'
            },]
        };
        var sptHolidayEvents = {
            id: 3,
            backgroundColor: '#e6533c',
            borderColor: '#e6533c',
            textColor: '#fff',
            events: [{
                id: '10',
                start: curYear + '-' + curMonth + '-05',
                end: curYear + '-' + curMonth + '-08',
                title: 'Festival Day'
            }, {
                id: '11',
                start: curYear + '-' + curMonth + '-18',
                end: curYear + '-' + curMonth + '-19',
                title: 'Memorial Day'
            }, {
                id: '12',
                start: curYear + '-' + curMonth + '-25',
                end: curYear + '-' + curMonth + '-26',
                title: 'Diwali'
            }]
        };
        var sptOtherEvents = {
            id: 4,
            backgroundColor: '#23b7e5',
            borderColor: '#23b7e5',
            textColor: '#fff',
            events: [{
                id: '13',
                start: curYear + '-' + curMonth + '-07',
                end: curYear + '-' + curMonth + '-09',
                title: 'My Rest Day'
            }, {
                id: '13',
                start: curYear + '-' + curMonth + '-29',
                end: curYear + '-' + curMonth + '-31',
                title: 'My Rest Day'
            }]
        };


        //________ FullCalendar
        var containerEl = document.getElementById('external-events');
        new FullCalendar.Draggable(containerEl, {
            itemSelector: '.fc-event',
            eventData: function (eventEl) {
                return {
                    title: eventEl.innerText.trim(),
                    title: eventEl.innerText,
                    className: eventEl.className + ' overflow-hidden '
                }
            }
        });
        var calendarEl = document.getElementById('calendar2');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
            },
            defaultView: 'month',
            navLinks: true, // can click day/week names to navigate views
            businessHours: true, // display business hours
            editable: true,
            selectable: true,
            selectMirror: true,
            droppable: true, // this allows things to be dropped onto the calendar

            select: function (arg) {
                var title = prompt('Event Title:');
                if (title) {
                    calendar.addEvent({
                        title: title,
                        start: arg.start,
                        end: arg.end,
                        allDay: arg.allDay
                    })
                }
                calendar.unselect()
            },
            eventClick: function (arg) {
                if (confirm('Are you sure you want to delete this event?')) {
                    arg.event.remove()
                }
            },

            editable: true,
            dayMaxEvents: true, // allow "more" link when too many events
            eventSources: [sptCalendarEvents, sptBirthdayEvents, sptHolidayEvents, sptOtherEvents,],

        });
        calendar.render();

        // for activity scroll
        var myElement1 = document.getElementById('full-calendar-activity');
        new SimpleBar(myElement1, { autoHide: true });


    })();

</script> *@